webpackJsonp([13],{0:function(module,exports,t){module.exports=t(134)},34:function(module,exports,t){var i,s;/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(o,e){"undefined"!=typeof module&&module.exports?module.exports=e():(i=e,s="function"==typeof i?i.call(exports,t,exports,module):i,!(void 0!==s&&(module.exports=s)))}("$script",function(){function t(t,i){for(var s=0,o=t.length;s<o;++s)if(!i(t[s]))return h;return 1}function i(i,s){t(i,function(t){return!s(t)})}function s(n,r,a){function h(t){return t.call?t():d[t]}function l(){if(!--b){d[v]=1,g&&g();for(var s in u)t(s.split("|"),h)&&!i(u[s],h)&&(u[s]=[])}}n=n[c]?n:[n];var p=r&&r.call,g=p?r:a,v=p?n.join(""):r,b=n.length;return setTimeout(function(){i(n,function t(i,s){return null===i?l():(s||/^https?:\/\//.test(i)||!e||(i=i.indexOf(".js")===-1?e+i+".js":e+i),m[i]?(v&&(f[v]=1),2==m[i]?l():setTimeout(function(){t(i,!0)},0)):(m[i]=1,v&&(f[v]=1),void o(i,l)))})},0),s}function o(t,i){var s,o=r.createElement("script");o.onload=o.onerror=o[p]=function(){o[l]&&!/^c|loade/.test(o[l])||s||(o.onload=o[p]=null,s=1,m[t]=2,i())},o.async=1,o.src=n?t+(t.indexOf("?")===-1?"?":"&")+n:t,a.insertBefore(o,a.lastChild)}var e,n,r=document,a=r.getElementsByTagName("head")[0],h=!1,c="push",l="readyState",p="onreadystatechange",d={},f={},u={},m={};return s.get=o,s.order=function(t,i,o){!function e(n){n=t.shift(),t.length?s(n,e):s(n,i,o)}()},s.path=function(t){e=t},s.urlArgs=function(t){n=t},s.ready=function(o,e,n){o=o[c]?o:[o];var r=[];return!i(o,function(t){d[t]||r[c](t)})&&t(o,function(t){return d[t]})?e():!function(t){u[t]=u[t]||[],u[t][c](e),n&&n(r)}(o.join("|")),s},s.done=function(t){s([null],t)},s})},35:function(module,exports,t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var s=t(34),o=i(s);t(42),angular.module("app").service("GoogleMap",["$http","$rootScope",function(i,s){var e=12,n=50,r={mapTypeControl:!1,zoomControl:!0,streetViewControl:!1,rotateControl:!1,scaleControl:!0,scrollwheel:!0,placemark:"pin",setBounds:!1,maxZoom:20},a=function(t){var i=this;return this.options=$.extend(!0,{},r,t),this.el=document.getElementById(t.element),this.$el=$(this.el),this.markers=[],window.google?this.waitForGoogleReady():void(0,o.default)("//maps.googleapis.com/maps/api/js?v=3&key="+this.options.key,function(){i.waitForGoogleReady()})};return a.prototype={waitForGoogleReady:function(){var i=this;t.e(0,function(){return t(50),i.pinIcon={url:"/img/googleMap/map-points.png",size:new google.maps.Size(38,n),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(19,n),labelOrigin:new google.maps.Point(19,22)},i.markedPinIcon=$.extend({},i.pinIcon,{origin:new google.maps.Point(38,0)}),i.init()})},init:function(){return this.map=new google.maps.Map(this.el,this.options),this.options.onload&&google.maps.event.addListenerOnce(this.map,"idle",this.options.onload),this.options.onInit&&"function"==typeof this.options.onInit&&this.options.onInit(),this},addPoints:function(t){if(angular.isString(t))return void i.get(t).success(function(t){this.addPoints(t.result)}.bind(this));var s=_.map(t,this._coordsDataMapper.bind(this));this.removePoints();for(var o=0;o<s.length;o++){var e=this.addOnePoint(s[o],o);e&&this.markers.push(e)}return this.zoomToFit()},removePoints:function(){for(var t=this.markers,i=0;i<t.length;i++){var s=t[i];s.setMap(null)}return this.markers=[],this},zoomToFit:function(){if(!this.options.setBounds)return this;for(var t=new google.maps.LatLngBounds,i=0;i<this.markers.length;i++)t.extend(this.markers[i].getPosition());return this.map.fitBounds(t),this.map.setZoom(12),this},addOnePoint:function(t,i){if(t.lat&&t.lng){var s=this._placeMarkTemplate[this.options.placemark]?this._placeMarkTemplate[this.options.placemark].call(this,t,i):this._placeMarkTemplate.pin.call(this,t,i);t.disableBalloon||s.addListener("click",function(){s.setVisible(!1),this._createInfoWindow(t).open(this.map,s)}.bind(this));var o;return s.addListener("mouseover",function(){o=s.getZIndex(),s.setZIndex(1e3+o)}.bind(this)),s.addListener("mouseout",function(){s.setZIndex(o)}.bind(this)),t.draggable&&t.dragEnd&&google.maps.event.addListener(s,"dragend",t.dragEnd),t.draggable&&t.onDrag&&google.maps.event.addListener(s,"drag",t.onDrag),s}},_placeMarkTemplate:{icon_title:function(t,i){return new window.MarkerWithLabel({map:this.map,icon:{url:"",size:new google.maps.Size(0,0)},draggable:t.draggable,position:{lat:t.lat,lng:t.lng},zIndex:t.markedOnMap?1e3+i:100+i,labelAnchor:new google.maps.Point(12,e),labelContent:this.iconTitleTemplate(t)})},pin:function(t,i){return new window.MarkerWithLabel({map:this.map,icon:t.markedOnMap?this.markedPinIcon:this.pinIcon,position:{lat:t.lat,lng:t.lng},draggable:t.draggable,zIndex:t.markedOnMap?1e3+i:100+i,labelContent:t.index?t.index:"",labelAnchor:new google.maps.Point(13,36),labelStyle:{color:t.markedOnMap?"#616161":"#fff",fontSize:"10px",fontFamily:"Roboto,Arial,sans-serif",width:"25px",textAlign:"center"}})}},_coordsDataMapper:function(t){return t.lat||(t.lat=t.y),t.lng||(t.lng=t.x),t},_createInfoWindow:function(t){this.infowindow&&(this.infowindow.anchor&&this.infowindow.anchor.setVisible(!0),this.infowindow.close());var i=this.infoWindowTemplate(t);return this.infowindow=new google.maps.InfoWindow({content:i,pixelOffset:"pin"===this.options.placemark?new google.maps.Size(0,n):new google.maps.Size(0,e)}),google.maps.event.addListenerOnce(this.infowindow,"closeclick",function(){_.each(this.markers,function(t){t.setVisible(!0)})}.bind(this)),this.infowindow},addButtonRefresh:function(t){var i='<span class="button button_round button_size_l button_theme_white button_shadow_true"><span class="icon icon_size_m animate_spin_360"><svg viewBox="0 0 64 64" width="64" height="64"><use xlink:href="'+s.assets+'/svg/sprite.common.svg#symbol-refresh"></use></svg></span></span>';this._addControl(i,"TOP_LEFT",t.onPress)},_addControl:function(t,i,s){var o=document.createElement("div"),e=document.createElement("div"),n="10px";i=i||"TOP_LEFT",e.innerHTML=t,e.index=1,e.style.padding=n,o.appendChild(e),e.addEventListener("click",s.bind(this)),this.map.controls[google.maps.ControlPosition[i]].push(o)},setPending:function(t){t?this.$el.addClass("is-pending"):this.$el.removeClass("is-pending")},iconTitleTemplate:function(t){if(t)return'<div class="placemark placemark_icon-title"><span class="icon icon_size_s placemark__icon"><svg viewBox="0 0 64 64" width="64" height="64"><use xlink:href="'+s.assets+"/svg/sprite.common.svg#symbol-"+t.iconName+'"></use></svg></span><span class="placemark__title">'+t.title+"</span></div>"},infoWindowTemplate:function(t){if(t)return'<div class="companies__item companies__item_balloon"><div class="companies__item-content"><h4 class="companies__item-title"><a href="'+t.link+'">'+t.title+'</a></h4><div class="companies__item-rating"><div class="rating rating_size_m"><span class="rating__value">'+t.score+'</span><span class="rating__stars"><span class="rating__stars-empty"></span><span class="rating__stars-fill" style="width: '+(t.score&&t.score/5*100)+'%"></span> </span></div></div><div class="companies__item-address">'+t.addr+"</div></div></div>"}},a}])},41:71,42:71,63:71,73:function(module,exports,t){"use strict";t(98);var i=angular.module("app");i.directive("affiliateMedical",["$http","Dialogy",function(t,i){return{restrict:"C",scope:!0,controller:["$scope","$element","$http","Dialogy","$templateCache",function(t,i,s,o,e){function n(i){o.open({closeButton:!1,width:300,header:!1,title:"Записаться",template:i},{companyId:t.companyId})}t.companyId=$(i).data("company-id"),i.on("click",function(i){var o="dialogy.affiliate.medical";return e.get(o)?n(o):void s.get("/affiliate/form/?company_id="+t.companyId).success(function(t){e.put(o,t.form),n(o)})})}]}}]),i.directive("affiliatePopup",["$http","Dialogy",function(t,i){return{restrict:"C",scope:!0,controller:["$scope","$element","$http","Dialogy","$timeout",function(t,i,s,o,e){function n(i,s){t.errors[i]=!1,a[i].regexp.test(s)?t.changed[i]=a[i].err:t.changed[i]=""}function r(i){if(i){if(i instanceof Array)return t.changed.phone=i.join("\n"),void(t.errors.phone=!0);for(var s in i)t.changed[s]=i[s].join("\n"),t.errors[s]=!0}}var a={name:{regexp:/.{2,}/,err:"Поле обязательно для заполнения"},phone:{regexp:/^((8|0|\+\d{1,2})[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10}$/,err:"Неверный формат номера телефона"}};t.formData={},t.errors={},t.changed={name:!1,phone:!1},t.change=function(i,s){t.changed[i]=!1,t.errors[i]=!1},t.$watch("formData.name",n.bind(null,"name")),t.$watch("formData.phone",n.bind(null,"phone")),t.formSubmit=function(i){i.preventDefault(),t.formData.name&&t.formData.phone&&(t.formData.isPending=!0,s.post("/affiliate/book/",$(i.target).serialize()).success(function(i){return t.formData.isPending=!1,!i.success||i.errors&&(i.errors.name||i.errors.phone)?r(i.errors):void o.close()}).error(function(i){t.formData.isPending=!1,r(["Непредвиденная ошибка, попробуйте еще раз"])}))}}]}}])},98:71,124:71,134:function(module,exports,t){"use strict";t(206),t(41),t(124),t(63),t(125),t(35),t(148),t(73),t(156),t(157)},148:function(module,exports,t){"use strict";t(200),angular.module("app").directive("upButton",["$debounce",function(t){return{restrict:"C",scope:!0,link:function(i,s,o){var e=$(s);e.on("click",function(){i.$root.helpers.animateScroll(o.to)}),$(window).on("scroll.up",t(function(t){var i=$(window).scrollTop();i>$("body").outerHeight()?e.addClass("is-visible").one("click",function(){$(this).removeClass("is-visible")}):e.removeClass("is-visible")},100)).trigger("scroll.up")}}}])},156:function(module,exports){"use strict";angular.module("app").directive("avgPrice",["$location","$debounce","$timeout",function(t,i,s){return{scope:!0,link:function(o,e,n,r){var a=$(e),h=a.find("#avg-price-chart"),c=a.find("#avg-price-slider"),l=angular.fromJson(n.avgPrice),p=[];o.avgPrice={from:l.range[0],to:l.range[1]},o.avgPriceInputFocused=!1,angular.forEach(l.values,function(t){p.push(t.count)});var d=function(){var t=0,i=l.values.length;return angular.forEach(l.values,function(s,e){o.avgPrice.from>=s.min&&o.avgPrice.from<s.max&&(t=e),o.avgPrice.to>=s.min&&o.avgPrice.to<s.max&&(i=e)}),{from:t,to:i}};s(function(){new Chart(h.get(0).getContext("2d")).Bar({labels:p,datasets:[{fillColor:"#71A3DA",strokeColor:"#71A3DA",data:p}]},{animation:!1,showScale:!1,showTooltips:!1,barValueSpacing:1,barStrokeWidth:0})},1),c.ionRangeSlider(angular.extend({},d(),{onChange:function(t){o.avgPrice.from=l.values[t.from].min,o.avgPrice.to=l.values[t.to-1].max,!o.$$phase&&o.$apply(),u()},onUpdate:function(){u()}}));var f=c.data("ionRangeSlider");o.avgPriceSliderUpdate=function(){f.update(d())};var u=i(function(){o.avgPrice.from>o.avgPrice.to?o.avgPrice.from=o.avgPrice.to:o.avgPrice.from<l.min&&(o.avgPrice.from=l.min),o.avgPrice.to<o.avgPrice.from?o.avgPrice.to=o.avgPrice.from:o.avgPrice.to>l.max&&(o.avgPrice.from=l.max),t.search("price_min",o.avgPrice.from),t.search("price_max",o.avgPrice.to),t.search("page",null)},1e3)}}}])},157:function(module,exports,t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var s=t(36),o=i(s);t(195),t(176),angular.module("app").controller("Category",["$scope","$element","$location","$timeout","$compile","$debounce","GoogleMap","Dialogy",function(t,i,s,e,n,r,a,h){var c,l=$(i);t.openMap=function(i){h.open({width:1200,heightPercents:80,header:!1,template:"category-map.tpl"},null,function(){t.initMap(!0)})},t.updateMap=function(){e(t.initMap,50)},t.initMap=function(i){var e,n=l.find("#category__map").data("options");if(!c&&i&&(c=new a($.extend(!0,{onload:function(){e=c.map.getBounds().toJSON()},onInit:function(){c.addPoints(n.points),c.addButtonRefresh({onPress:function(){var i=c.map.getCenter().toJSON(),o=c.map.getBounds().toJSON();e.south.toPrecision(4)===o.south.toPrecision(4)&&e.west.toPrecision(4)===o.west.toPrecision(4)&&e.north.toPrecision(4)===o.north.toPrecision(4)&&e.east.toPrecision(4)===o.east.toPrecision(4)||(e=o,s.search("center","["+i.lat+","+i.lng+"]"),s.search("bounds","[["+o.south+","+o.west+"],["+o.north+","+o.east+"]]"),c.setPending(!0),!t.$$phase&&t.$apply())}})}},n.options))),c&&c.map){if(!(0,o.default)(n.points).length)return h.close();c.setPending(!1),c.addPoints(n.points)}},t.initFilters=function(){e(function(){var i=$("#category-filters");t.fields=i.data("selected")||[],i.find(":checkbox").on("change",function(){t.toggleFilter($(this).val())})},1)},t.toggleFilter=function(i){i=parseInt(i),t.fields.indexOf(i)!==-1?t.fields.splice(t.fields.indexOf(i),1):t.fields.push(i),t.applyFilters()},t.applyFilters=function(){var i=$("#category-filters");s.url(i.data("reset-url")),s.search("fields",t.fields.length?t.fields.join(","):null),t.filtersTimeout&&e.cancel(t.filtersTimout),t.filtersTimeout=e(function(){!t.$$phase&&t.$apply()},1e3)},t.initCategories=function(){e(function(){var i=$("#category-subcategories");t.categories=[],i.find(":checked").each(function(){t.categories.push($(this).val())}),i.find("button").on("click",function(){t.applyCategories(i)})},1)},t.applyCategories=function(i){t.categories=[],i.find(":checked").each(function(){t.categories.push($(this).val())}),t.categories.length?s.search("cat",t.categories.join(",")):s.url(i.find(".js-reset-button").data("href")),s.search("page",null),!t.$$phase&&t.$apply()},t.resetCategories=function(){t.categories=[],!t.$$phase&&t.$apply()},t.getCompanies=function(){var i=s.url(),o=$(".category__companies-more").filter(function(){return decodeURIComponent($(this).find("a").attr("href"))==decodeURIComponent(i)}),e=o.find("a").attr("rel");t.isRequestCompaniesPending=!0,!t.$$phase&&t.$apply(),o.addClass("is-pending"),$.get(i,{rel:e}).done(function(i){var s=$("<div/>").append(i),e=s.find(".category__companies");o.replaceWith(n(e.html())(t)),t.isRequestCompaniesPending=!1,!t.$$phase&&t.$apply()})},$(window).on("scroll",r(function(){var i=$(".category__companies-more").filter(function(){return"next"==$(this).find("a").attr("rel")}),o=$(window).scrollTop(),e=o+$("body").outerHeight();i.length&&e>i.offset().top&&!t.isRequestCompaniesPending&&s.url(i.find("a").attr("href"))},300)),t.initStickBanner=function(t){var i=$(t),s=$(".category__rightside"),o=$(".header").height();$(window).on("scroll.banner",function(t){var e=$(window).scrollTop(),n=i.parent().offset().top,r=e-n+o,a=s.offset().top+s.outerHeight()-i.outerHeight()-n;r>a&&(r-=r-a),r<0&&(r=0),i.css({top:r})}).trigger("scroll.banner")},t.$root.$on("$locationChangeSuccess",function(i,o,e){o!=e&&(s.search().page?t.getCompanies():t.$root.loadPage(o,t))}),t.$root.$on("pageLoadStart",function(){t.pageLoadingTimeout=e(function(){t.$root.toggleWindowScroll("category",!0),t.$root.isPageLoading=!0},500)}),t.$root.$on("pageLoadSuccess",function(){$(window).scrollTop(0)}),t.$root.$on("pageLoadFinally",function(){t.pageLoadingTimeout&&e.cancel(t.pageLoadingTimeout),t.$root.isPageLoading&&(t.$root.toggleWindowScroll("category",!1),t.$root.isPageLoading=!1)})}])},176:function(module,exports){"use strict";!function(t,i,s,o,e){var n=0,r=function(){var i=o.userAgent,s=/msie\s\d+/i;return 0<i.search(s)&&(i=s.exec(i).toString(),i=i.split(" ")[1],9>i)&&(t("html").addClass("lt-ie9"),!0)}();Function.prototype.bind||(Function.prototype.bind=function(t){var i=this,s=[].slice;if("function"!=typeof i)throw new TypeError;var o=s.call(arguments,1),e=function n(){if(this instanceof n){var e=function(){};e.prototype=i.prototype;var e=new e,r=i.apply(e,o.concat(s.call(arguments)));return Object(r)===r?r:e}return i.apply(t,o.concat(s.call(arguments)))};return e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,i){var s;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),e=o.length>>>0;if(0===e)return-1;if(s=+i||0,1/0===Math.abs(s)&&(s=0),s>=e)return-1;for(s=Math.max(0<=s?s:e-Math.abs(s),0);s<e;){if(s in o&&o[s]===t)return s;s++}return-1});var a=function(o,e,n){this.VERSION="2.1.2",this.input=o,this.plugin_count=n,this.old_to=this.old_from=this.update_tm=this.calc_count=this.current_plugin=0,this.raf_id=this.old_min_interval=null,this.is_update=this.is_key=this.no_diapason=this.force_redraw=this.dragging=!1,this.is_start=!0,this.is_click=this.is_resize=this.is_active=this.is_finish=!1,this.$cache={win:t(s),body:t(i.body),input:t(o),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var r=this.$cache.input;o=r.prop("value");var a;n={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null},r={type:r.data("type"),min:r.data("min"),max:r.data("max"),from:r.data("from"),to:r.data("to"),step:r.data("step"),min_interval:r.data("minInterval"),max_interval:r.data("maxInterval"),drag_interval:r.data("dragInterval"),values:r.data("values"),from_fixed:r.data("fromFixed"),from_min:r.data("fromMin"),from_max:r.data("fromMax"),from_shadow:r.data("fromShadow"),to_fixed:r.data("toFixed"),to_min:r.data("toMin"),to_max:r.data("toMax"),to_shadow:r.data("toShadow"),prettify_enabled:r.data("prettifyEnabled"),prettify_separator:r.data("prettifySeparator"),force_edges:r.data("forceEdges"),keyboard:r.data("keyboard"),keyboard_step:r.data("keyboardStep"),grid:r.data("grid"),grid_margin:r.data("gridMargin"),grid_num:r.data("gridNum"),grid_snap:r.data("gridSnap"),hide_min_max:r.data("hideMinMax"),hide_from_to:r.data("hideFromTo"),prefix:r.data("prefix"),postfix:r.data("postfix"),max_postfix:r.data("maxPostfix"),decorate_both:r.data("decorateBoth"),values_separator:r.data("valuesSeparator"),input_values_separator:r.data("inputValuesSeparator"),disable:r.data("disable")},r.values=r.values&&r.values.split(",");for(a in r)r.hasOwnProperty(a)&&(r[a]||0===r[a]||delete r[a]);o&&(o=o.split(r.input_values_separator||e.input_values_separator||";"),o[0]&&o[0]==+o[0]&&(o[0]=+o[0]),o[1]&&o[1]==+o[1]&&(o[1]=+o[1]),e&&e.values&&e.values.length?(n.from=o[0]&&e.values.indexOf(o[0]),n.to=o[1]&&e.values.indexOf(o[1])):(n.from=o[0]&&+o[0],n.to=o[1]&&+o[1])),t.extend(n,e),t.extend(n,r),this.options=n,this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};a.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"></span>'),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass("irs-disabled"),this.$cache.input[0].disabled=!1,this.bindEvents()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.max,i=this.options.to;this.options.from>this.options.min&&i===t?this.$cache.s_from.addClass("type_last"):i<t&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),r&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),r&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerMove:function(t){this.dragging&&(this.coords.x_pointer=(t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX)-this.coords.x_gap,this.calc())},pointerUp:function(i){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,r&&t("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(t.contains(this.$cache.cont[0],i.target)||this.dragging)&&(this.is_finish=!0,this.callOnFinish()),this.dragging=!1)},pointerDown:function(i,s){s.preventDefault();var o=s.pageX||s.originalEvent.touches&&s.originalEvent.touches[0].pageX;2!==s.button&&("both"===i&&this.setTempMinInterval(),i||(i=this.target),this.current_plugin=this.plugin_count,this.target=i,this.dragging=this.is_active=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=o-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(i),r&&t("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(s-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,i){if(!(this.current_plugin!==this.plugin_count||i.altKey||i.ctrlKey||i.shiftKey||i.metaKey)){switch(i.which){case 83:case 65:case 40:case 37:i.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:i.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var i=this.coords.p_pointer,i=t?i+this.options.keyboard_step:i-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*i),this.is_key=!0,this.calc()},setMinMax:function(){this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){switch(this.calcPointerPercent(),t=this.getHandleX(),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,t=this.getHandleX(),this.target=this.options.drag_interval?"both_one":this.chooseHandle(t)),this.target){case"base":var i=(this.options.max-this.options.min)/100;t=(this.result.from-this.options.min)/i,i=(this.result.to-this.options.min)/i,this.coords.p_single_real=this.toFixed(t),this.coords.p_from_real=this.toFixed(t),this.coords.p_to_real=this.toFixed(i),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(t),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(t),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(t),
this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;t=this.toFixed(t+.1*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var s=this.convertToRealPercent(t);t=this.result.to_percent-this.result.from_percent;var o=t/2,i=s-o,s=s+o;0>i&&(i=0,s=i+t),100<s&&(s=100,i=s-t),this.coords.p_from_real=this.calcWithStep(i),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(s),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(0>this.coords.x_pointer||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,i=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return 0>i?i=0:i>t&&(i=t),i},calcHandlePercent:function(){this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":t>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to)),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change"),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_click=this.is_key=!1,this.callOnFinish()),this.is_finish=this.is_resize=this.is_update=!1),this.force_redraw=this.is_click=this.is_key=this.is_start=!1))},drawLabels:function(){if(this.options){var t,i=this.options.values.length,s=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)i=i?this.decorate(s[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(i),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?"hidden":"visible";else{i?(this.options.decorate_both?(i=this.decorate(s[this.result.from]),i+=this.options.values_separator,i+=this.decorate(s[this.result.to])):i=this.decorate(s[this.result.from]+this.options.values_separator+s[this.result.to]),t=this.decorate(s[this.result.from]),s=this.decorate(s[this.result.to])):(this.options.decorate_both?(i=this.decorate(this._prettify(this.result.from),this.result.from),i+=this.options.values_separator,i+=this.decorate(this._prettify(this.result.to),this.result.to)):i=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to),t=this.decorate(this._prettify(this.result.from),this.result.from),s=this.decorate(this._prettify(this.result.to),this.result.to)),this.$cache.single.html(i),this.$cache.from.html(t),this.$cache.to.html(s),this.calcLabels(),s=Math.min(this.labels.p_single_left,this.labels.p_from_left),i=this.labels.p_single_left+this.labels.p_single_fake,t=this.labels.p_to_left+this.labels.p_to_fake;var o=Math.max(i,t);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target&&(this.$cache.to[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",o=t):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",o=Math.max(i,t))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),this.$cache.min[0].style.visibility=s<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=o>100-this.labels.p_max-1?"hidden":"visible"}}},drawShadow:function(){var t=this.options,i=this.$cache,s="number"==typeof t.from_min&&!isNaN(t.from_min),o="number"==typeof t.from_max&&!isNaN(t.from_max),e="number"==typeof t.to_min&&!isNaN(t.to_min),n="number"==typeof t.to_max&&!isNaN(t.to_max);"single"===t.type?t.from_shadow&&(s||o)?(s=this.convertToPercent(s?t.from_min:t.min),o=this.convertToPercent(o?t.from_max:t.max)-s,s=this.toFixed(s-this.coords.p_handle/100*s),o=this.toFixed(o-this.coords.p_handle/100*o),s+=this.coords.p_handle/2,i.shad_single[0].style.display="block",i.shad_single[0].style.left=s+"%",i.shad_single[0].style.width=o+"%"):i.shad_single[0].style.display="none":(t.from_shadow&&(s||o)?(s=this.convertToPercent(s?t.from_min:t.min),o=this.convertToPercent(o?t.from_max:t.max)-s,s=this.toFixed(s-this.coords.p_handle/100*s),o=this.toFixed(o-this.coords.p_handle/100*o),s+=this.coords.p_handle/2,i.shad_from[0].style.display="block",i.shad_from[0].style.left=s+"%",i.shad_from[0].style.width=o+"%"):i.shad_from[0].style.display="none",t.to_shadow&&(e||n)?(e=this.convertToPercent(e?t.to_min:t.min),t=this.convertToPercent(n?t.to_max:t.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,i.shad_to[0].style.display="block",i.shad_to[0].style.left=e+"%",i.shad_to[0].style.width=t+"%"):i.shad_to[0].style.display="none")},callOnStart:function(){this.options.onStart&&"function"==typeof this.options.onStart&&this.options.onStart(this.result)},callOnChange:function(){this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(this.result)},callOnFinish:function(){this.options.onFinish&&"function"==typeof this.options.onFinish&&this.options.onFinish(this.result)},callOnUpdate:function(){this.options.onUpdate&&"function"==typeof this.options.onUpdate&&this.options.onUpdate(this.result)},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(t,i){var s=this.options.max-this.options.min;return s?this.toFixed((i?t:t-this.options.min)/(s/100)):(this.no_diapason=!0,0)},convertToValue:function(t){var i,s,o=this.options.min,e=this.options.max,n=o.toString().split(".")[1],r=e.toString().split(".")[1],a=0,h=0;return 0===t?this.options.min:100===t?this.options.max:(n&&(a=i=n.length),r&&(a=s=r.length),i&&s&&(a=i>=s?i:s),0>o&&(h=Math.abs(o),o=+(o+h).toFixed(a),e=+(e+h).toFixed(a)),t=(e-o)/100*t+o,(o=this.options.step.toString().split(".")[1])?t=+t.toFixed(o.length):(t/=this.options.step,t*=this.options.step,t=+t.toFixed(0)),h&&(t-=h),h=o?+t.toFixed(o.length):this.toFixed(t),h<this.options.min?h=this.options.min:h>this.options.max&&(h=this.options.max),h)},calcWithStep:function(t){var i=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<i&&(i=100),100===t&&(i=100),this.toFixed(i)},checkMinInterval:function(t,i,s){var o=this.options;return o.min_interval?(t=this.convertToValue(t),i=this.convertToValue(i),"from"===s?i-t<o.min_interval&&(t=i-o.min_interval):t-i<o.min_interval&&(t=i+o.min_interval),this.convertToPercent(t)):t},checkMaxInterval:function(t,i,s){var o=this.options;return o.max_interval?(t=this.convertToValue(t),i=this.convertToValue(i),"from"===s?i-t>o.max_interval&&(t=i-o.max_interval):t-i>o.max_interval&&(t=i+o.max_interval),this.convertToPercent(t)):t},checkDiapason:function(t,i,s){t=this.convertToValue(t);var o=this.options;return"number"!=typeof i&&(i=o.min),"number"!=typeof s&&(s=o.max),t<i&&(t=i),t>s&&(t=s),this.convertToPercent(t)},toFixed:function(t){return t=t.toFixed(9),+t},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,i){return this.options.force_edges?(0>t?t=0:t>100-i&&(t=100-i),this.toFixed(t)):this.toFixed(t)},validate:function(){var t,i,s=this.options,o=this.result,e=s.values,n=e.length;if("string"==typeof s.min&&(s.min=+s.min),"string"==typeof s.max&&(s.max=+s.max),"string"==typeof s.from&&(s.from=+s.from),"string"==typeof s.to&&(s.to=+s.to),"string"==typeof s.step&&(s.step=+s.step),"string"==typeof s.from_min&&(s.from_min=+s.from_min),"string"==typeof s.from_max&&(s.from_max=+s.from_max),"string"==typeof s.to_min&&(s.to_min=+s.to_min),"string"==typeof s.to_max&&(s.to_max=+s.to_max),"string"==typeof s.keyboard_step&&(s.keyboard_step=+s.keyboard_step),"string"==typeof s.grid_num&&(s.grid_num=+s.grid_num),s.max<s.min&&(s.max=s.min),n)for(s.p_values=[],s.min=0,s.max=n-1,s.step=1,s.grid_num=s.max,s.grid_snap=!0,i=0;i<n;i++)t=+e[i],isNaN(t)?t=e[i]:(e[i]=t,t=this._prettify(t)),s.p_values.push(t);("number"!=typeof s.from||isNaN(s.from))&&(s.from=s.min),("number"!=typeof s.to||isNaN(s.from))&&(s.to=s.max),"single"===s.type?(s.from<s.min&&(s.from=s.min),s.from>s.max&&(s.from=s.max)):((s.from<s.min||s.from>s.max)&&(s.from=s.min),(s.to>s.max||s.to<s.min)&&(s.to=s.max),s.from>s.to&&(s.from=s.to)),("number"!=typeof s.step||isNaN(s.step)||!s.step||0>s.step)&&(s.step=1),("number"!=typeof s.keyboard_step||isNaN(s.keyboard_step)||!s.keyboard_step||0>s.keyboard_step)&&(s.keyboard_step=5),"number"==typeof s.from_min&&s.from<s.from_min&&(s.from=s.from_min),"number"==typeof s.from_max&&s.from>s.from_max&&(s.from=s.from_max),"number"==typeof s.to_min&&s.to<s.to_min&&(s.to=s.to_min),"number"==typeof s.to_max&&s.from>s.to_max&&(s.to=s.to_max),o&&(o.min!==s.min&&(o.min=s.min),o.max!==s.max&&(o.max=s.max),(o.from<o.min||o.from>o.max)&&(o.from=s.from),(o.to<o.min||o.to>o.max)&&(o.to=s.to)),("number"!=typeof s.min_interval||isNaN(s.min_interval)||!s.min_interval||0>s.min_interval)&&(s.min_interval=0),("number"!=typeof s.max_interval||isNaN(s.max_interval)||!s.max_interval||0>s.max_interval)&&(s.max_interval=0),s.min_interval&&s.min_interval>s.max-s.min&&(s.min_interval=s.max-s.min),s.max_interval&&s.max_interval>s.max-s.min&&(s.max_interval=s.max-s.min)},decorate:function(t,i){var s="",o=this.options;return o.prefix&&(s+=o.prefix),s+=t,o.max_postfix&&(o.values.length&&t===o.p_values[o.max]?(s+=o.max_postfix,o.postfix&&(s+=" ")):i===o.max&&(s+=o.max_postfix,o.postfix&&(s+=" "))),o.postfix&&(s+=o.postfix),s},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,i,s=this.options;t=s.max-s.min;var o,e,n=s.grid_num,r=0,a=0,h=4,c=0,l="";for(this.calcGridMargin(),s.grid_snap?(n=t/s.step,r=this.toFixed(s.step/(t/100))):r=this.toFixed(100/n),4<n&&(h=3),7<n&&(h=2),14<n&&(h=1),28<n&&(h=0),t=0;t<n+1;t++){for(o=h,a=this.toFixed(r*t),100<a&&(a=100,o-=2,0>o&&(o=0)),this.coords.big[t]=a,e=(a-r*(t-1))/(o+1),i=1;i<=o&&0!==a;i++)c=this.toFixed(a-e*i),l+='<span class="irs-grid-pol small" style="left: '+c+'%"></span>';l+='<span class="irs-grid-pol" style="left: '+a+'%"></span>',c=this.convertToValue(a),c=s.values.length?s.p_values[c]:this._prettify(c),l+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+a+'%">'+c+"</span>"}this.coords.big_num=Math.ceil(n+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(l),this.cacheGridLabels()}},cacheGridLabels:function(){var t,i,s=this.coords.big_num;for(i=0;i<s;i++)t=this.$cache.grid.find(".js-grid-text-"+i),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,i;i=[];var s=[],o=this.coords.big_num;for(t=0;t<o;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),i[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),s[t]=this.toFixed(i[t]+this.coords.big_p[t]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,s[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),s[o-1]>100+this.coords.grid_gap&&(s[o-1]=100+this.coords.grid_gap,i[o-1]=this.toFixed(s[o-1]-this.coords.big_p[o-1]),this.coords.big_x[o-1]=this.toFixed(this.coords.big_p[o-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,s),this.calcGridCollision(4,i,s),t=0;t<o;t++)i=this.$cache.grid_labels[t][0],i.style.marginLeft=-this.coords.big_x[t]+"%"},calcGridCollision:function(t,i,s){var o,e,n,r=this.coords.big_num;for(o=0;o<r&&(e=o+t/2,!(e>=r));o+=t)n=this.$cache.grid_labels[e][0],n.style.visibility=s[o]<=i[e]?"visible":"hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(i){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.options=t.extend(this.options,i),this.validate(),this.updateResult(i),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),t.data(this.input,"ionRangeSlider",null),this.remove(),this.options=this.input=null)}},t.fn.ionRangeSlider=function(i){return this.each(function(){t.data(this,"ionRangeSlider")||t.data(this,"ionRangeSlider",new a(this,i,(n++)))})},function(){for(var t=0,i=["ms","moz","webkit","o"],o=0;o<i.length&&!s.requestAnimationFrame;++o)s.requestAnimationFrame=s[i[o]+"RequestAnimationFrame"],s.cancelAnimationFrame=s[i[o]+"CancelAnimationFrame"]||s[i[o]+"CancelRequestAnimationFrame"];s.requestAnimationFrame||(s.requestAnimationFrame=function(i,o){var e=(new Date).getTime(),n=Math.max(0,16-(e-t)),r=s.setTimeout(function(){i(e+n)},n);return t=e+n,r}),s.cancelAnimationFrame||(s.cancelAnimationFrame=function(t){clearTimeout(t)})}()}(jQuery,document,window,navigator)},195:71,200:71,206:71});